<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فحص حركة الماوس</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f5f5f5;
            padding: 50px;
            margin: 0;
            height: 100vh;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
        }
        .message {
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            display: none;
        }
        .success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }
        .error {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
        }
        .instructions {
            margin: 20px 0;
            padding: 15px;
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>فحص حركة الماوس</h1>
        <div class="instructions">
            <p>حرك الماوس على الشاشة ليتم الكشف عنه</p>
            <p>إذا لم يتم الكشف عن حركة الماوس خلال 5 ثوانٍ، سيتم عرض رسالة خطأ</p>
        </div>
        
        <div id="successMessage" class="message success">
            ✓ تم الكشف عن حركة الماوس بنجاح
        </div>
        
        <div id="errorMessage" class="message error">
            ✗ لم يتم الكشف عن حركة الماوس
        </div>
    </div>

    <script>
        // عناصر الرسائل
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');
        
        // متغير لتتبع إذا تم اكتشاف حركة الماوس
        let mouseDetected = false;
        
        // مؤقت لرسالة الخطأ
        let errorTimer;
        
        // بدء المؤقت عند تحميل الصفحة
        window.onload = function() {
            startDetection();
        };
        
        function startDetection() {
            // إخفاء جميع الرسائل
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // تعيين مؤقت لرسالة الخطأ بعد 5 ثوان
            errorTimer = setTimeout(function() {
                if (!mouseDetected) {
                    errorMessage.style.display = 'block';
                }
            }, 5000);
            
            // إضافة مستمع لحركة الماوس
            document.addEventListener('mousemove', handleMouseMove);
        }
        
        function handleMouseMove() {
            // إذا تم اكتشاف حركة الماوس لأول مرة
            if (!mouseDetected) {
                mouseDetected = true;
                clearTimeout(errorTimer); // إلغاء مؤقت الخطأ
                successMessage.style.display = 'block';
                
                // إزالة مستمع الأحداث بعد الاكتشاف
                document.removeEventListener('mousemove', handleMouseMove);
            }
        }
        
        // إعادة المحاولة عند النقر على الرسالة
        successMessage.addEventListener('click', resetDetection);
        errorMessage.addEventListener('click', resetDetection);
        
        function resetDetection() {
            mouseDetected = false;
            startDetection();
        }
    </script>
</body>
</html>
